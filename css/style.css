
/*  ===========================================================
    1. RESET Y FUENTES
    =========================================================== */
    @import url('https://fonts.googleapis.com/css2?family=Archivo:ital,wght@0,100..900;1,100..900&family=Julius+Sans+One&family=Lato:ital,wght@0,100;0,300;0,400;0,700;0,900;1,100;1,300;1,400;1,700;1,900&family=Open+Sans:ital,wght@0,300..800;1,300..800&display=swap');

    body, html {
        margin: 0;
        padding: 0;
        height: 100%;
        width: 100%;
        overflow: hidden;
        font-family: 'Lato', sans-serif;
        }

    body {
        display: flex; /* <== Esto hace que los elementos hijos (por ejemplo, #sidebar y #map) se dispongan en l√≠nea (lado a lado). */
        margin: 0; /* <== Elimina el margen por defecto del navegador. */
        font-family: 'Lato', sans-serif; /* <== Define la fuente principal para el texto. */
        font-size: 12px; /* <== Tama√±o de fuente base para el documento. */
        font-weight: 300; /* <== Peso de la fuente (ligero). */
        color: #6e675e;  /* <== Color del texto. */
        flex-direction: column; /* <== Cambiamos la direcci√≥n del flex para apilar la barra de t√≠tulo y el contenido principal */
        height: 100vh; /* <== Asegura que el body ocupe toda la altura de la ventana */
    }

    /* ===========================================================
    2. LAYOUT GENERAL: Sidebar, Mapa y Contenedores
    =========================================================== */
    
    /* Contenedor principal para la sidebar y el mapa */
    #main-container {
        display: flex; /* <== Vuelve a habilitar el flex para la sidebar y el mapa */
        flex-grow: 1; /* <== Permite que este contenedor crezca y ocupe el espacio restante */
        height: calc(100vh - 60px); /* ajusta seg√∫n la altura de tu top-title-bar */
        overflow: hidden; /* oculta cualquier desborde */
    }

    /* Contenedor lateral que organiza y muestra las opciones del men√∫ */
    #sidebar {
        width: 15%;
        background: #1d1d1d;
        padding: 0px;
        margin: 0;
        overflow-y: auto;
        overflow-x: hidden;
        height: 100%;
        border-right: none;
        position: relative; /* Necesario para que el ::after se posicione respecto a este */
    }

    #sidebar::-webkit-scrollbar {
    width: 6px;
    }

    #sidebar::-webkit-scrollbar-thumb {
    background-color: rgba(255, 255, 255, 0.2);
    border-radius: 4px;
    }

    #sidebar::-webkit-scrollbar-track {
    background: transparent;
    }

    #sidebar::after {
        content: "";
        position: absolute;
        top: 0;
        right: 0; /* üëà lo posiciona al borde derecho */
        width: 0px;
        height: 100%;
        background: linear-gradient(to right, rgba(244, 244, 244, 0), rgba(0, 0, 0, 0));
        pointer-events: none;
        z-index: 1;
    }

    /* ===========================================================
    3. BARRA SUPERIOR (T√çTULO + LOGO)
    =========================================================== */
    /* Barra de t√≠tulo superior */
    #top-title-bar {
        background-color: #141414;
        color: white;
        padding: 10px 20px; /* Ajustamos el padding vertical */
        font-family: 'Lato', sans-serif;
        font-size: 20px;
        font-weight: 400;
        text-transform: none;
        letter-spacing: 1px;
        width: 100%;
        box-sizing: border-box;

        /* --- INICIO DE LA MODIFICACI√ìN --- */
        display: flex;
        align-items: center; /* Centra verticalmente el texto y el logo */
        justify-content: space-between; /* Empuja el texto a la izq. y el logo a la der. */
        /* --- FIN DE LA MODIFICACI√ìN --- */
    }

    #logo-3f {
    height: 40px; /* Altura del logo, puedes ajustarla */
    width: auto;  /* El ancho se ajusta autom√°ticamente */
    }
   
   /* ===========================================================
   4. FILTROS - FILA INDIVIDUAL (CHECKBOX + TEXTO + BOT√ìN)
   =========================================================== */
    label.filter-item {
        display: grid;
        grid-template-columns: auto 1fr auto; /* checkbox, texto, bot√≥n */
        align-items: center;
        padding: 4px 8px;
        gap: 6px;
        background-color: rgba(255,255,255,0.03);
        border-bottom: 1px solid rgba(255,255,255,0.1);
        width: 100%;
        box-sizing: border-box;
    }

    .filter-item input[type="checkbox"] {
        appearance: none;
        -webkit-appearance: none;
        width: 14px;
        height: 14px;
        background-color: #898989;
        border: 1px solid rgba(255, 255, 255, 0.7);
        border-radius: 3px;
        cursor: pointer;
        position: relative;
        vertical-align: middle;
        margin-right: 6px;
        flex-shrink: 0;
        outline: none;
    }

    .filter-item input[type="checkbox"]:checked {
        background-color: #898989;
        border-color: rgba(255, 255, 255, 0.7);
    }

    .filter-item input[type="checkbox"]:checked::after {
        content: '‚úì';
        color: white;
        font-size: 8px;
        font-weight: 500;
        position: absolute;
        top: 50%;
        left: 50%;
        transform: translate(-50%, -50%);
        line-height: 1;
    }

    .select-only-btn {
        font-size: 10px;
        color: rgba(255, 255, 255, 0.6);
        background: none;
        border: none;
        padding: 6px 10px;
        padding-left: 10px;
        border-left: 1px solid rgba(255,255,255,0.2);
        white-space: nowrap;
        max-width: 60px;
        text-align: right;
    }

    /* ===========================================================
   5. M√ÅS SECCIONES A AGREGAR...
   =========================================================== */

/* √Årea principal que exhibe el mapa interactivo de OpenLayers */
    #map {
        flex: 1;
        height: 100%; /* <== El mapa ocupa toda la altura disponible dentro del #main-container */
        position: relative; /* üëà Esto es clave para que el ::before funcione */
    }

    #map::before {
        content: "";
        position: absolute;
        left: 0;
        top: 0;
        height: 100%;
        width: 20px; /* Ancho del degradado */
        background: linear-gradient(to right, rgba(0, 0, 0, 0.05), rgba(0, 0, 0, 0)); /* Desde transparente a gris */
        z-index: 5; /* Que quede sobre el mapa pero debajo de cualquier control */
        pointer-events: none; /* No interfiere con los clics en el mapa */
    }

    .sidebar {
        /* Que ocupe toda la altura visible */
        height: 100vh;


        /* Si su contenido excede, pone scroll vertical */
        overflow-y: auto;

        /* (Opcional) Para que el scrollbar no se meta sobre el contenido */
        box-sizing: border-box;
        padding-right: 8px; /* ajusta seg√∫n tu dise√±o */
    }

    #sidebar::-webkit-scrollbar { width: 6px; }
    #sidebar::-webkit-scrollbar-thumb { background-color: rgba(255, 255, 255, 0.2); border-radius: 4px; }
    #sidebar::-webkit-scrollbar-track { background: transparent; }


    


    /* PARTIDO LOCALIDADES Men√∫ desplegable interactivo para seleccionar y filtrar opciones. */
    .dropdown {
        width: 100%; /* <== El bot√≥n ocupa el 100% del ancho del contenedor, haciendo que se vea uniforme. */
        padding: 0px; /* <== Espaciado interno para que el texto tenga buen margen. */
        font-family: 'Lato', sans-serif;
        font-size: 14px; /* <== Tama√±o de fuente para el bot√≥n. */
        font-weight: 300; /* <== Peso leve para el texto del bot√≥n. */
        padding-left: 0px; /* <== Espaciado adicional a la izquierda. */
        padding-right: 0px; /* <== Espaciado adicional a la derecha. */
        background: #ff0000; /* <== Fondo claro para el bot√≥n. */
        border-radius: 0px;
        border: none; /* <== Sin borde para un look m√°s plano. */
        cursor: pointer;
        text-align: left;
        margin-top: 0px;
        margin-bottom: 0px;
        border-top: 2px solid rgba(82,82,82);
    }

    /* Tipolog√≠a Estiliza los botones que disparan la apertura del men√∫ desplegable. TIPOLOGIA*/
    .dropdown button {
        width: 100%;
        display: flex; /* ‚Üê Flexbox para alinear texto + icono */
        align-items: center;
        justify-content: space-between; /* ‚Üê Texto a la izquierda, √≠cono a la derecha */
        padding: 10px 0px; /* Mantenimiento de Higiene*/
        background: none;
        border: none;
        color: #e9e9e9;
        font-size: 14px;
        cursor: pointer;
        text-align: left;
}

    /* Define el contenedor oculto que muestra las opciones del dropdown. */
    .dropdown-content {
        display: none;
        position: relative; /* <- ‚úÖ antes era absolute */
        background: none;
        width: 100%; /* <- ‚úÖ ancho completo del contenedor */
        min-width: 200px;
        border-radius: 0; /* o 5px si quer√©s */
        box-shadow: none; /* <- ‚úÖ sin sombra flotante */
        border: none; /* <- ‚úÖ sin borde */
        flex-direction: column;
        box-sizing: border-box;
        padding: 0px;
    }

    .dropdown-content.show {
    display: block;
}

    /* Da formato a cada etiqueta (opci√≥n) interna del dropdown. */
    .dropdown-content label {
        display: block;
        margin-bottom: 0px;
    }

    /* MEN√ö DESPLEGABLE TERCIARIO Muestra el contenido del dropdown cuando el contenedor tiene la clase "active". */
    .dropdown.active .dropdown-content {
        display: block;
        background-color: none;
        flex-direction: column;
    }

    .dropdown-content .filter-item { /* Opciones */
    color: #6e675e;
    background-color: rgb(255, 255, 255, 0.05); /* Cambialo si quer√©s otro fondo por defecto */
    font-size: 14px;
    padding: 0px 0px;
    border-radius: 0px;
    position: relative; /* Necesario para que el bot√≥n se posicione respecto a este */
    }

    /* Ajusta el estilo de la atribuci√≥n interna de OpenLayers. */
    .ol-attribution {
        position: absolute !important;
        bottom: 4px !important;
        right: 10px !important;
        background: none !important;
        padding: 0px;
        font-size: 12px;
        border-radius: 5px;
    }

    /* Oculta los botones que puedan incluirse en la atribuci√≥n. */
    .ol-attribution button {
        display: none !important;

    }

    /* Desplegable 1 */
    .category-header {
        display: flex;
        align-items: center; /* centra verticalmente */
        justify-content: flex-start;
        height: 60px; /* o el alto que quieras */
        padding: 0 0px;
        background: none;
        color: #e9e9e9;
        font-size: 16px;
        cursor: pointer;
        font-weight: 500;
    }

    .category-left {
    display: flex;
    align-items: center;
    gap: 100px;
    overflow: hidden;
    flex: 1 1 auto;
    min-width: 0; /* Importante para que el texto colapse si es necesario */
}

.category-title {
    white-space: normal;
    overflow: hidden;
    text-overflow: ellipsis;
    max-width: 100%;
}

.chevron-icon {
    flex-shrink: 0;
    margin-left: 12px;
    font-size: 16px;
    margin-right: 12px;
}


    .category-header > div > span {
    padding-top: 2%;
    padding-left: 4%;
    display: inline-block;
    line-height: 1;
    }


    .category-content { /* SUB CATEGORIAS */
        background: none !important;
        padding: 0 !important;
        margin: 0 !important;
        border: none !important;
        width: 100%;
        display: none;
    }
    .category.active .category-content {
    display: block;
    background: none !important;

    }

    /* bOT√ìN OJO */
.eye-button {
    background: none;
    border: none;
    margin: 0;
    display: flex;
    align-items: center; /* CENTRAR dentro del bot√≥n */
    justify-content: center;
    width: 30px;
    height: 30px;
    cursor: pointer;
}

/* Icono adentro (ya sea i o img) */
.eye-button i, .eye-button img {
    width: 20px;
    height: 20px;
    display: block;
    object-fit: contain;
}

.eye-button i {
  font-size: 18px;
  vertical-align: middle;
  line-height: 1;
}

    .dropdown-content .filter-text { /*PLAZA, PLAZOLETA*/
        display: inline-block;
        justify-content: space-between;
        font-size: 12px;
        flex: 1;
        min-width: 40%; /* agregado para que nunca colapse a 0 */
        overflow: hidden;
        text-overflow: ellipsis;
        white-space: normal;
        margin: 0 0px;
        color: rgba(255, 255, 255, 0.8); /* si segu√≠s con fondo oscuro */
    }

    /**
     * INICIO DE LA CORRECCI√ìN
     * El bot√≥n "Aislar" se alinea a la derecha.
     */
    .dropdown-content .select-only-btn { /* BOT√ìN Solamente Aislar*/
        background: none;
        margin-left: 3%;
        margin-right: 6%;
        color: rgba(255, 255, 255, 0.6);
        flex-shrink: 0; /* Evita que el bot√≥n se encoja */
        font-size: 10px;
        padding: 0;
        border: none;
        cursor: pointer;
    }
    /**
     * FIN DE LA CORRECCI√ìN
     */

/* Oculta el checkbox visualmente solo en "Seleccionar Todos" */
.select-todos-label input[type="checkbox"] {
  display: none;
}

/* Seleccionar Todos Estilo visual personalizado (sin recuadro) */
.select-todos-label {
  display: block;
  font-weight: 300;
  color: rgba(255, 255, 255, 0.7);
  padding: 6px 12px;
  font-size: 10px;
  background-color: #898989;
  border-bottom: 1px solid rgba(255, 255, 255, 0.4); /* l√çNEA separadora seleccionar todos */
}

/* Opcional: hover sutil */
.select-todos-label:hover {
  background-color: rgba(0, 0, 0, 0.03);
}

.category {
  position: relative;
  cursor: pointer;
  margin: 0;
  padding: 0; /* No padding */
}

.category::after {
  content: "";
  display: block;
  height: 1px;
  background-color: rgba(110, 103, 94, 0.5);
  margin-top: 0px; /* opcional: espacio antes de la l√≠nea */
  margin: 0;
}

.dropdown-content .filter-item:hover {
    background-color: rgba(0, 0, 0, 0.6); /* Celeste claro */
    border-radius: 3px;
}

.btn-tipologia,
.dropdown-content label.filter-item { /* <== SECTOR A√ëADIDO */
    background-color: #898989 !important;
    color: #ff0000 !important;
    font-size: 14px !important; /* Ajustado a 14px para que no sea tan grande */
    border: none; /* Quitamos el borde para un look m√°s limpio */
    border-bottom: 1px solid rgb(245, 245, 245, 0.1); /* L√≠nea divisoria sutil */
    padding: 0px 0px; /* Ajustamos el padding para que se vea bien */
    text-align: left;
    width: 100%;
    display: flex;
    justify-content: space-between;
    align-items: center;
    cursor: pointer;
}

.btn-tipologia .tipologia-texto {
  padding-left: 0px;

}

.tipologia-texto {
    margin-left: 8px; /* ESPACIO CHECK PARTIDO*/
    color: #c9c9c9f2;
    text-align: left;
    flex-grow: 1;
    font-size: 14px;
    font-family: 'Lato', sans-serif;
    font-weight: 400;
    text-align: left;
    flex-grow: 1;

}

.bi {
  color: rgb(255, 255, 255);
  font-size: 16px;
}


.label-check-text {
    color: rgba(201,201,201,.95);
    text-align: left;
    margin-left: 8px; /* ESPACIO CHECK PARTIDO*/
    flex-grow: 1;
    font-size: 14px;
    font-family: 'Lato', sans-serif;
    font-weight: 400;
    text-align: left;
    flex-grow: 1;
}

#filtros-activos {
    position: absolute;
    top: 140px; /* Posici√≥n debajo de los nuevos √≠conos */
    right: 20px;
    background-color: rgba(29, 29, 29, 0.9);
    color: white;
    padding: 8px 12px;
    font-size: 13px;
    border-radius: 6px;
    z-index: 1000;
    font-family: 'Lato', sans-serif;
    max-width: 250px;
    line-height: 1.4;
    display: none; /* ¬°Importante! Oculto por defecto */
}

/* Esta nueva clase lo har√° visible cuando se la agreguemos con JavaScript */
#filtros-activos.visible {
    display: block;
}

#searchPlazaInput::placeholder {
    color: #e6e6e6 !important;
    opacity: 1 !important;
}

#searchSuggestions {
  position: absolute !important;
  top: 100% !important;
  left: 0;
  right: 0;
  background-color: #757575;
  z-index: 1000;
  max-height: 200px;
  overflow-y: auto;
  border-radius: 0 0 4px 4px;
  box-shadow: 0 2px 4px rgba(0,0,0,0.3);
}

#searchSuggestions div {
  background-color: #757575 !important;
  color: white !important;
  padding: 8px 10px !important;
  font-size: 14px !important;
  border-bottom: 1px solid rgba(255, 255, 255, 0.1);
  cursor: pointer;
}

#searchSuggestions div:hover {
  background-color: #5e5e5e !important;
}


/* Nueva regla m√°s espec√≠fica para los iconos de categor√≠a en el sidebar: */
.category-header .eye-button .bi:not([class*="-fill"]):not(.bi-chevron-compact-down):not(.bi-chevron-compact-up) {
  color: #505050 !important; /* Color gris para los iconos de categor√≠a no activos */
}

.category-header i.bi-chevron-compact-down,
.category-header i.bi-chevron-compact-up {
  flex-shrink: 0;         /* ‚ùó Que el √≠cono NO se achique nunca */
  margin-left: 0;      /* ‚ùó Espacio entre texto y chevron */
  font-size: 16px;
}

.category-header .eye-button {
  width: 10%;
  height: 30px;
  display: flex;
  align-items: center;
  justify-content: center;
  padding: 0;
  margin: 0;
}

.category-header .eye-button i {
  font-size: 21px;
  width: 20px;
  height: 20px;
  line-height: 20px;
  padding-left: 12px;
  display: flex; /* ‚Üê AC√Å estaba el error: pusiste "blick" en vez de "flex" */
  align-items: center;
  justify-content: center;
  text-align: center;
  position: relative;
  top: 4%; /* o 0 si ya est√°n bien en vertical */
}

.category-header > div {
  display: flex;
  align-items: center;
  gap: 10px;
}

.btn-tipologia .bi.bi-circle,
.btn-tipologia .bi.bi-circle-fill {
  font-size: 9px; /* Define el nuevo tama√±o para los iconos de c√≠rculo */
  width: 16px;          /* Make icon container width match checkbox width */
  height: 16px;         /* Make icon container height match checkbox height */
  margin-left: 6px;       /* Crucial: Icon starts at the button's padding edge */
  margin-right: 2px;    /* Space after icon, matching checkbox's margin-right */
  display: inline-flex; /* Allows width, height, and centering of the icon glyph */
  align-items: center;
  justify-content: center;
  flex-shrink: 0;       /* Prevent shrinking if button space is tight */
  color: rgb(255, 255, 255); /* Retain original icon color */


  /* Podr√≠as necesitar ajustar la alineaci√≥n vertical si se desalinean con el texto: */
  /* vertical-align: middle; */ /* Descomenta y ajusta si es necesario */
}


/* Oscurece el fondo del encabezado de la categor√≠a cuando est√° activa */
.category.active > .category-header {
  background-color: #3a3a3a; /* Un gris m√°s oscuro que el fondo actual de la sidebar (#1d1d1d) */
  /* Puedes ajustar este color a uno que prefieras, por ejemplo: #101010 o #0f0f0f */
}

/* ===========================================================
   6. BORDES DERECHOS
=========================================================== */

/* Borde para los dropdowns de primer nivel (hijos directos de category-content) */
.category.active .category-content > .dropdown {
    border-left: 8px solid #484848; /* Color para los "hijos" */
    padding-left: 0px; /* Ya estaba, importante para alinear el contenido */
    margin-left: 0px;  /* Ya estaba, importante para alinear el contenido */
}

/* Borde para los dropdowns de segundo nivel (nietos) */
.category.active .category-content .plazas-subcategorias > .dropdown,
.category.active .category-content .luminarias-subcategorias > .dropdown {
    border-left: 10px solid #525252; /* <-- ¬°DEFINE AQU√ç EL COLOR PARA LOS "NIETOS"! */
    padding-left: 0px; /* Asegura que no haya padding extra que empuje el contenido */
    margin-left: 0px;  /* Asegura que no haya margen extra a la izquierda */
}

/* Borde para los dropdowns de tercer nivel (subnietos) */
.category.active .category-content .plazas-subcategorias > .dropdown .dropdown-content > div[id$="Filter"],
.category.active .category-content .luminarias-subcategorias > .dropdown .dropdown-content > div[id$="Filter"] {
    border-left: 8px solid #6b6b6b; /* Choose your desired color */
    padding-left: 0px; /* Ensures no extra padding pushes content */
    margin-left: 0px;  /* Ensures no extra left margin */
}

/* ===========================================================
   6. FIN BORDES DERECHOS
=========================================================== */

/* Estilo base para los checkboxes dentro de .btn-tipologia */
.btn-tipologia input[type="checkbox"] {
    appearance: none; /* Quita el estilo nativo del navegador */
    -webkit-appearance: none; /* Quita el estilo nativo para navegadores WebKit/Blink */
    width: 16px;       /* Ancho del checkbox */
    height: 16px;      /* Alto del checkbox */
    background-color: #cdcdcd; /* GRIS claro para el fondo del checkbox vac√≠o */
    border: 1px solid #888888;   /* Borde GRIS m√°s oscuro para el recuadro */
    border-radius: 0px; /* Bordes ligeramente redondeados */
    cursor: pointer;
    position: relative; /* Necesario para posicionar la marca de verificaci√≥n (::after) */
    vertical-align: middle; /* Ayuda a alinear con el texto si est√° al lado */
    margin-right: 2px;  /* Espacio entre el checkbox y el texto que le sigue (el span.label-check-text) */
    margin-left: 0;
    flex-shrink: 0;     /* Evita que el checkbox se encoja en contenedores flexibles */
    outline: none;      /* Quita el contorno que algunos navegadores a√±aden al enfocar */
}

/* Estilo para cuando el checkbox dentro de .btn-tipologia est√° marcado (checked) */
.btn-tipologia input[type="checkbox"]:checked {
    background-color: #cdcdcd; /* Fondo GRIS (puede ser el mismo que el borde o un gris deseado) cuando est√° marcado */
    border-color: #666666;     /* Borde GRIS un poco m√°s oscuro para el estado marcado, si se desea */
}

/* Estilo para la marca de verificaci√≥n (el "check") */
.btn-tipologia input[type="checkbox"]:checked::after {
    content: '‚úì'; /* S√≠mbolo de marca de verificaci√≥n. Puedes usar otros como '\2713' o una imagen SVG */
    color: white; /* Color BLANCO para la marca */
    font-size: 10px; /* Tama√±o de la marca */
    font-weight: 500; /* Opcional: hacer la marca m√°s gruesa */
    position: absolute; /* Posicionamiento absoluto dentro del checkbox */
    top: 50%;
    left: 50%;
    transform: translate(-50%, -50%); /* Centra la marca dentro del recuadro */
    line-height: 1; /* Asegura que la marca est√© bien centrada verticalmente */
}

/* Tipologia Mnat de Higiene*/
.btn-tipologia {
  background-color: #6b6b6b !important;
  min-height: 35px; /* Ajust√° este valor seg√∫n lo que necesites */
  display: flex;
  align-items: center;
  padding: 0px px;
  
}



hr {
  border: 0;
  height: 1px;
  background-color: #5a5a5a; /* Un color por defecto */
  margin: 0 !important;
  padding: 0 !important;
}

.address-search-section-header {
    display: flex;
    align-items: center;
    gap: 10px; /* Espacio entre el icono y el texto del t√≠tulo */
    color: #e9e9e9; /* Color del texto del t√≠tulo */
    font-size: 14px; /* Tama√±o del texto del t√≠tulo */
    font-weight: 500; /* Peso del texto del t√≠tulo */
    margin-bottom: 12px; /* Espacio entre el t√≠tulo y el campo de input */
}

.address-search-section-header .bi-geo-alt-fill {
    font-size: 18px; /* Tama√±o del icono */
}

.address-search-section {
    position: absolute;
    top: 20px;
    left: 10px;
    z-index: 1001;
    width: 350px;
    height: 40px; /* Altura final y consistente con el men√∫ */
    background-color: transparent;
    border-radius: 4px;
    padding: 0; /* Importante: quitamos el padding de aqu√≠ */
    box-sizing: border-box;
    display: flex; /* Usaremos flex para centrar el contenido */
    align-items: center; /* Centra verticalmente lo que est√© adentro */
}

/* 2. El div que envuelve al campo de texto */
.address-search-section-content {
    width: 100%;
    padding: 0 15px; /* Aplicamos el espaciado lateral aqu√≠ */
    box-sizing: border-box;
}

/* 3. El campo de texto en s√≠ */
.address-search-section-content input[type="text"]#addressSearchInput {
    all: unset;
    width: 100%;
    background-color: rgba(29, 29, 29, 0.8);
    color: white;
    padding: 8px 10px;
    border-radius: 4px;
    font-size: 14px;
    box-sizing: border-box;
    border: none;
    box-shadow: 0 2px 6px rgba(0, 0, 0, 0.3); /* <== SOMBRA A√ëADIDA */
    height: 36px;
}

/* 4. El texto del placeholder */
#addressSearchInput::placeholder {
    color: white !important;
    opacity: 0.8 !important;
}


#chevronDesplegables {
    margin-right: 8%; /* Ajusta este valor seg√∫n el espacio que necesites */
    font-size: 14px;
}

#generalesChevron {
    margin-right: 8%; /* Ajusta este valor seg√∫n el espacio que necesites */
    font-size: 16px;
}

/**
 * INICIO DE LA CORRECCI√ìN Plaza Plazoleta
 * Se elimina "justify-content" para que "margin-left: auto" en el bot√≥n funcione correctamente.
 */
.filter-item {
 position: relative; /* ‚úÖ Esto es clave */
  padding-right: 8px; /* Espacio reservado a la derecha para el bot√≥n */
  display: flex;
  align-items: center;
}
/**
 * FIN DE LA CORRECCI√ìN Checkbox Plazoleta 
 */



.dropdown-content .filter-item .select-only-btn {
    white-space: nowrap !important;
    flex-shrink: 0 !important;
    margin-left: auto !important; /* Este ya lo ten√©s: mantiene el bot√≥n pegado a la derecha */
    
    font-size: 10px !important;
    color: rgba(255, 255, 255, 0.6) !important;
    background: none !important;
    cursor: pointer !important;
    
    border-style: none none none solid !important;
    border-width: 1px !important;
    border-color: rgba(255, 255, 255, 0.25) !important;

    /* AJUST√Å ESTE */
    padding: 8px 16px !important; /* Cambi√° 12px por un valor mayor si quer√©s que quede m√°s separado */
}

#resetPageBtn {
    position: absolute;
    top: 20px;
    right: 120px; /* <== NUEVO VALOR */
    width: 40px;
    height: 40px;
    background-color: rgba(29, 29, 29, 0.8);
    color: white;
    border: none;
    border-radius: 50%;
    z-index: 1001;
    cursor: pointer;
    display: flex;
    align-items: center;
    justify-content: center;
    box-shadow: 0 2px 8px rgba(0,0,0,0.3);
    transition: background-color 0.2s;
}

#resetPageBtn:hover {
    background-color: rgba(50, 50, 50, 0.95);
}

#resetPageBtn i {
    font-size: 20px; /* Tama√±o del √≠cono */
}

/* Estilos para el nuevo bot√≥n de mostrar filtros */
#toggleFiltersBtn {
    position: absolute;
    top: 20px;
    right: 20px; /* <== NUEVO VALOR */
    width: 40px;
    height: 40px;
    background-color: rgba(29, 29, 29, 0.8);
    color: white;
    border: none;
    border-radius: 50%;
    z-index: 1001;
    cursor: pointer;
    display: flex;
    align-items: center;
    justify-content: center;
    box-shadow: 0 2px 8px rgba(0,0,0,0.3);
    transition: background-color 0.2s;
}


#toggleMapStyleBtn {
    position: absolute;
    top: 20px;
    right: 70px; /* Posici√≥n intermedia */
    width: 40px;
    height: 40px;
    background-color: rgba(29, 29, 29, 0.8);
    color: white;
    border: none;
    border-radius: 50%;
    z-index: 1001;
    cursor: pointer;
    display: flex;
    align-items: center;
    justify-content: center;
    box-shadow: 0 2px 8px rgba(0,0,0,0.3);
    transition: background-color 0.2s;
}

#toggleMapStyleBtn:hover {
    background-color: rgba(50, 50, 50, 0.95);
}

#toggleMapStyleBtn i {
    font-size: 18px; /* Un poco m√°s peque√±o para que entre bien */
}

#toggleFiltersBtn:hover {
    background-color: rgba(50, 50, 50, 0.95);
}

#toggleFiltersBtn i {
    font-size: 20px;
}

.ol-zoom,
.ol-rotate {
    display: none !important;
}

.layer-toggle-button {
    /* ----- Apariencia General ----- */
    background-color: #f8f9fa; /* Un gris muy claro, color de fondo com√∫n para controles */
    border: 1px solid #dee2e6; /* Un borde sutil para definir el bot√≥n */
    color: #212529;            /* Color de texto oscuro est√°ndar */
    border-radius: 0;     /* Bordes redondeados para suavizar */
    width: 100%;               /* Para que ocupe todo el ancho del panel */
    margin-bottom: 5px;        /* Un peque√±o margen para separar los botones entre s√≠ */
    height: 40px;
    
    
    /* ----- Alineaci√≥n y Comportamiento ----- */
    display: flex;             /* ¬°La clave! Permite alinear el √≠cono y el texto horizontalmente */
    align-items: center;       /* Centra verticalmente el contenido */
    text-align: left;          /* Alinea el texto a la izquierda */
    cursor: pointer;           /* Muestra la manito para indicar que es clickeable */
    
    /* ----- Transiciones y Texto ----- */
    transition: background-color 0.15s ease-in-out; /* Transici√≥n suave para el hover */
    font-size: 1rem;           /* 16px, un tama√±o de fuente est√°ndar */
    font-weight: 500;          /* Un poco m√°s de grosor en la letra */
}

/* Efecto al pasar el mouse por encima para dar feedback visual */
.layer-toggle-button:hover {
    background-color: none; /* Un gris un poco m√°s oscuro al pasar el mouse */
}

/* Estilo para el √≠cono del ojo (bi-eye-fill / bi-eye-slash) */
.layer-toggle-button i {
    font-size: 1.2rem;       /* Hacemos el √≠cono un 20% m√°s grande que el texto */
    margin-right: 12px;      /* Espacio entre el √≠cono y el texto */
    width: 20px;             /* Ancho fijo para que el texto no se mueva cuando cambia el √≠cono */
    text-align: center;
}

/* Estilo para el texto (el span que contiene "L√≠mite del Partido", etc.) */
.layer-toggle-button span {
    flex-grow: 1; /* Hace que el texto ocupe todo el espacio sobrante */
}


/*
  Esta regla agrupa los √≠conos que representan un estado 'inactivo'
  y les asigna el mismo color gris para unificar la interfaz.
*/
.bi-map,       /* El √≠cono de la categor√≠a 'Generales' apagada */
.bi-tree,      /* El √≠cono de la categor√≠a 'Espacios Urbanos' apagada */
.bi-lightbulb, /* El √≠cono de la categor√≠a 'Alumbrado' apagada */
.bi-droplet,   /* El √≠cono de la categor√≠a 'Hidr√°ulica' apagada */
.bi-people,    /* El √≠cono de la categor√≠a 'Alta Transitabilidad' apagada */
.bi-trash {    /* El √≠cono de la categor√≠a 'Higiene Urbana' apagada */
    color: rgba(255, 255, 255, 0.2) !important; /* Un gris medio para indicar inactividad */
}

.bi-eye-slash{ /* El ojo tachado de una capa individual oculta */
    color: rgba(255, 255, 255, 0.2) !important; /* Un gris medio para indicar inactividad */
}


.checkbox-container {
    display: flex;            /* Alinear checkbox y texto horizontalmente */
    align-items: center;      /* Centrar verticalmente */
    padding: 8px 12px;        /* Espaciado interno, similar a los otros botones */
    cursor: pointer;          /* El cursor se vuelve una mano en toda el √°rea */
    background-color: #f0f0f0;/* Color de fondo gris claro */
    transition: background-color 0.2s ease; /* Transici√≥n suave para el hover */
}

/* Efecto al pasar el mouse por encima */
.checkbox-container:hover {
    background-color: #e0e0e0; /* Un gris un poco m√°s oscuro */
}

/* Estilo del checkbox */
.checkbox-container input[type="checkbox"] {
    margin-right: 10px;       /* Espacio entre el checkbox y el texto */
    cursor: pointer;
    /* Color del tilde, para que coincida con otros elementos de la UI */
    accent-color: #5b534a;
}

/* Estilo del texto (label) */
.checkbox-container label {
    cursor: pointer;          /* El texto tambi√©n es clickeable */
    font-size: 14px;          /* Tama√±o de letra consistente */
    color: #333;
}

/*FONDO NIETO TIPOLOGIA*/
.plazas-subcategorias {
    max-height: 0;                   /* Inicia oculto con altura 0 */
    overflow: hidden;                /* Oculta el contenido que se desborda durante la transici√≥n */
    transition: max-height 0.15s ease-out; /* Transici√≥n suave para la altura */
    background-color: none;       /* Fondo para el contenido desplegado (ajusta si es necesario) */
    padding: 0 0px;                 /* Padding interno cuando est√° oculto/en transici√≥n */
}
.plazas-subcategorias.show {
    max-height: 1000px;              /* Un valor lo suficientemente grande para mostrar todo el contenido */
    padding: 0px;                   /* Padding cuando est√° visible */
}


/* Espacios verde*/
.plazas-dropdown {
    /* Estilo para el contenedor general del grupo de capas/filtros (ej. "Espacios Verdes", "Luminarias", "Centros Comerciales") */
    margin-bottom: 10px;
    margin-top: 5px;
    border-radius: 0px;
    border: 1px solid #4a4a4a; /* Borde sutil para separar los grupos */
    background-color:none; /* Fondo ligeramente diferente para el dropdown principal */
}

/* Botones principales dentro de plazas-dropdown (ej. "Espacios Verdes", "Luminarias", "Centros Comerciales") */
.plazas-dropdown .layer-toggle-button {
    display: flex;
    justify-content: space-between;
    align-items: center;
    width: 100%;
    padding: 6px;
    background-color: #525252; /* Fondo del bot√≥n de la capa */
    color: rgb(255, 255, 255, 0.9);
    border: none;
    cursor: pointer;
    font-size: 1em;
    text-align: left;
    margin-bottom: 0; /* Resetear cualquier margen */
    border-radius:0px !important;
}

.plazas-dropdown .layer-toggle-button:hover {
    background-color: #555;
}

.plazas-dropdown .layer-toggle-button .bi-eye-slash,
.plazas-dropdown .layer-toggle-button .bi-eye-fill {
    font-size: 1.1em;
    margin-right: 10px;
}


.category-header .chevron-icon {
    transition: transform 0.15s ease-in-out;
}
.category.active .category-header .chevron-icon {
    transform: rotate(180deg);
}

/* Chevron de los botones de capa */
.plazas-dropdown .layer-toggle-button .chevron-icon {
    transition: transform 0.15s ease-in-out;
}
.plazas-dropdown.submenu-activo .layer-toggle-button .chevron-icon {
    transform: rotate(180deg); /* <-- Gira el √≠cono */
}

.btn-tipologia .chevron-icon {
    transition: transform 0.15s ease-in-out;

}
.dropdown.active .btn-tipologia .chevron-icon {
    transform: rotate(180deg);

}

.layer-toggle-button .chevron-icon {
    font-size: 14px;       /* <-- 1. Hazlo m√°s chico (puedes ajustar este valor) */
    margin-left: auto;     /* <-- 2. Empuja el √≠cono completamente hacia la derecha */
    margin-right: 12px;     /* <-- 3. Crea el espacio de 6px desde el borde derecho */
    flex-shrink: 0;        /* <-- 4. Evita que el √≠cono se encoja si no hay espacio */
}







/* Estilo para el submen√∫ de Luminarias cuando se despliega */
.luminarias-subcategorias {
    max-height: 0;
    overflow: hidden;
    transition: max-height 0.3s ease-out; /* Esta es la transici√≥n suave que quieres mantener */
    background-color: #424242; /* Fondo para el contenido desplegado */
    padding: 0 10px; /* Padding para el contenido dentro del submen√∫ */
}

.luminarias-subcategorias.show {
    max-height: 500px; /* O un valor que asegure que todo el contenido sea visible */
    padding: 10px; /* Ajusta el padding cuando est√° visible */
}

/* Estilos para los botones de "Tipolog√≠a", "Tipo de artefacto", etc. (btn-tipologia) */
.plazas-dropdown .dropdown .btn-tipologia {
    display: flex;
    justify-content: space-between;
    align-items: center;
    width: 100%;
    padding: 0px 0px;
    background-color: #555; /* Fondo para los sub-botones de filtros */
    color: white;
    border: none;
    cursor: pointer;
    text-align: left;
    font-size: 0.95em;
    border-radius: 0px;
    margin-top: 0px; /* Espacio entre estos botones */
    border-bottom: none;
}

.plazas-dropdown .dropdown .btn-tipologia:hover {
    background-color: #666;
}

.plazas-dropdown .dropdown .btn-tipologia .bi-chevron-compact-down {
    transition: transform 0.2s ease-in-out;
}

.plazas-dropdown .dropdown.active .btn-tipologia .bi-chevron-compact-down {
    transform: rotate(180deg);
}

/* Seleccionar Todos Contenido de los dropdowns de filtros Tipolgia Plazoleta (dropdown-content) */
.plazas-dropdown .dropdown-content {
    background-color: #898989; /* Fondo claro para el contenido de los filtros */
    border: 0px solid #ddd;
    padding: 0px;
    margin-top: 0x;
    color: #333; /* Color de texto oscuro para los filtros */
    border-radius: 0px;
    display: none; /* Oculto por defecto, JS maneja la clase 'active' */
}

.plazas-dropdown .dropdown.active > .dropdown-content {
    display: block; /* Muestra el contenido cuando el dropdown est√° activo */
}

/* Estilos para los √≠tems de filtro (checkboxes y texto) */
.plazas-dropdown .filter-item {
    display: flex;
    align-items: center;
    margin-bottom: 0px;
    height: 30px; /*Altura Plazoleta*/
    padding: 3px 0;
}

.plazas-dropdown .filter-item input[type="checkbox"] {
    margin-right: 8px;
    accent-color: #007bff; /* Color del checkbox, puedes ajustar */
}

.plazas-dropdown .filter-item .filter-text {
    flex-grow: 1;
    font-size: 0.9em;
}

.plazas-dropdown .filter-item .select-only-btn {
    background-color: #6b6b6b;
    color: white;
    border: none;
    padding: 3px 8px;
    border-radius: 3px;
    cursor: pointer;
    font-size: 0.75em;
    margin-left: 5px;
}

.plazas-dropdown .filter-item .select-only-btn:hover {
    background-color: #6b6b6b;
}

/* Estilo para el "Seleccionar Todos" */
.plazas-dropdown .select-todos-label {
    display: block; /* Para que ocupe toda la l√≠nea */
    padding-bottom: 5px;
    border-bottom: 1px solid #eee;
    margin-bottom: 10px;
    font-weight: bold;
}

.category-content .plazas-dropdown,
.category-content .layer-toggle-button,
.category-content hr {
    margin-top: 0 !important;
    padding-top: 0 !important;
}

.category-content .plazas-dropdown,
.category-content .layer-toggle-button {
    margin-bottom: 0 !important;
    padding-bottom: 0 !important;
}

/* Asegurar que el √∫ltimo bot√≥n no tenga margen inferior */
.category-content .plazas-dropdown button:last-child {
    margin-bottom: 0 !important;
    padding-bottom: 0 !important;
}

/* Eliminar posibles m√°rgenes del HR si sigue presente */
.category-content hr {
    margin: 0 !important;
    padding: 0 !important;
}

.checkbox-button-like {
  /* Tipologia Mnat de Higiene*/
  background-color: #6b6b6b !important;
  min-height: 35px; /* Ajust√° este valor seg√∫n lo que necesites */
  display: flex;
  align-items: center;
  justify-content: space-between;
  padding: 0px;
}

.checkbox-button-like .hidden-checkbox {
    /* Oculta visualmente el checkbox real */
    display: none;
}

.checkbox-button-like .layer-toggle-button {
    /* Aplica los estilos existentes de layer-toggle-button a la etiqueta label */
    /* Aseg√∫rate de que estos estilos sean adecuados para una etiqueta (display: flex, etc.) */
    background-color: #6b6b6b !important;
    color: rgba(255, 255, 255, 0.7) !important;
    font-size: 14px !important; /* Ajustado a 14px para que no sea tan grande */
    border: none; /* Quitamos el borde para un look m√°s limpio */
    border-bottom: 1px solid rgb(245, 245, 245, 0.1); /* L√≠nea divisoria sutil */
    padding: 0px 0px; /* Ajustamos el padding para que se vea bien */
    text-align: left;
    width: 100%;
    display: flex;
    justify-content: space-between;
    align-items: center;
    cursor: pointer;
}

/* Ajuste para el √≠cono dentro de la etiqueta */
.checkbox-button-like .layer-toggle-button i {
    margin-right: 12px;      /* Espacio entre el √≠cono y el texto */
    width: 20px;             /* Ancho fijo para el √≠cono */
    text-align: center;      /* Centra el √≠cono dentro de su espacio */
    font-size: 1.2rem;       /* Tama√±o del √≠cono */
}

/* Ajuste para el texto (span) dentro de la etiqueta */
.checkbox-button-like .layer-toggle-button span {
    flex-grow: 1; /* Permite que el texto ocupe el espacio restante */
}

/* Estilo para el hover del "bot√≥n" */
.checkbox-button-like .layer-toggle-button:hover {
    background-color: #555; /* Oscurece al pasar el mouse */
}

/* Estilo para el ojo tachado cuando el checkbox NO est√° marcado */
.checkbox-button-like .hidden-checkbox:not(:checked) + .layer-toggle-button i {
    color: rgba(255, 255, 255, 0.2) !important; /* Gris claro para el ojo cuando est√° apagado */
}

/* Estilo para el ojo cuando el checkbox S√ç est√° marcado */
.checkbox-button-like .hidden-checkbox:checked + .layer-toggle-button i {
    color: rgb(255, 255, 255) !important; /* Blanco para el ojo cuando est√° encendido */
}

/* Asegurarse de que el √≠cono sea un ojo (bi-eye-slash o bi-eye-fill) */
.checkbox-button-like .hidden-checkbox:not(:checked) + .layer-toggle-button i.bi-eye-fill {
    /* Si por alguna raz√≥n est√° el fill y no est√° checked, lo forzamos a slash */
    content: "\F33E"; /* Unicode para bi-eye-slash */
    font-family: "bootstrap-icons" !important;
}

.checkbox-button-like .hidden-checkbox:checked + .layer-toggle-button i.bi-eye-slash {
    /* Si est√° el slash y est√° checked, lo forzamos a fill */
    content: "\F33F"; /* Unicode para bi-eye-fill */
    font-family: "bootstrap-icons" !important;
}

/* Borde para los elementos de segundo nivel dentro de subcategor√≠as (como los nuevos botones de Red Pluvial) */
.category.active .category-content .plazas-subcategorias > .checkbox-button-like {
    border-left: 8px solid #6b6b6b; /* Usa el mismo color que definiste para los "nietos" */
    /* Aseg√∫rate de que el padding/margin de .layer-toggle-button dentro sea consistente */
}



/* =================================================================== */
/* ESTILOS MODERNOS PARA POPUPS                                        */
/* =================================================================== */

.ol-popup {
    background-color: #2c2c2c; /* No es necesario el !important aqu√≠ */
    box-shadow: 0 4px 12px rgba(0, 0, 0, 0.4);
    padding: 10px;
    border-radius: 8px;
    border: 1px solid #444;
    width: 200px;
    color: #e9e9e9;
    font-family: 'Lato', sans-serif;
    font-size: 14px;
    line-height: 1.5;
    pointer-events: auto;
    /* Las propiedades 'left' y 'bottom' han sidoeliminadas */
}

.ol-popup a[id$="-closer"] {
    text-decoration: none;
    position: absolute;
    top: 0px; /* Ajuste para mejor alineaci√≥n */
    right: 0px; /* Ajuste para mejor alineaci√≥n */
    color: #aaa;
    font-size: 18px; /* Un poco m√°s grande para que sea m√°s f√°cil de clickear */
    line-height: 1;
    transition: color 0.2s ease;
}

.ol-popup:after {
    content: "";
    position: absolute;
    top: 100%; /* La posiciona justo debajo del popup */
    left: 50%; /* La mueve al centro horizontal del popup */
    transform: translateX(-50%); /* La desplaza a la izquierda la mitad de su propio ancho para centrarla perfectamente */
    border-width: 10px;
    border-style: solid;
    border-color: #2c2c2c transparent transparent transparent;
}


.ol-popup a[id$="-closer"]:hover {
    color: #fff;
}



.filter-item {
    position: relative;
    padding-right: 16px; /* Aumenta este valor para darle m√°s margen a la derecha (alejarlo del borde) */
    display: flex;
    align-items: center;
}


#searchSuggestions div.active-suggestion {
  background-color: #5e5e5e !important;
  color: white !important;
}

#searchSuggestions .highlighted {
  background-color: #424242 !important;
  color: white !important;
}

/* --- Estilo para el placeholder del filtro de calle en Alumbrado --- */

#filtroCalleInput::placeholder {
  color: rgba(255, 255, 255, 0.7); /* Color del texto: blanco con 70% de opacidad. ¬°Puedes cambiar este valor! */
  opacity: 1; /* Necesario para asegurar la visibilidad en algunos navegadores */
}

/* --- C√≥digo adicional para m√°xima compatibilidad con otros navegadores --- */

#filtroCalleInput::-webkit-input-placeholder { /* Chrome, Safari, Opera, Edge */
  color: rgba(255, 255, 255, 0.7);
}

#filtroCalleInput::-moz-placeholder { /* Firefox */
  color: rgba(255, 255, 255, 0.7);
  opacity: 1;
}

#filtroCalleInput:-ms-input-placeholder { /* Internet Explorer 10+ */
  color: rgba(255, 255, 255, 0.7);
}

#loader {
  position: fixed;
  background-color: #000;
  z-index: 9999;
  top: 0; left: 0;
  width: 100vw;
  height: 100vh;
  display: flex;
  justify-content: center;
  align-items: center;
}

#loader img {
  width: 40px;
  height: 40px;
  animation: spin 2s linear infinite;
   opacity: .8;
}

@keyframes spin {
  0% { transform: rotate(0deg); }
  100% { transform: rotate(360deg); }
}











